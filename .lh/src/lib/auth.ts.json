{
    "sourceFile": "src/lib/auth.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1745336775864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1745575970570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+'use server'\r\n import NextAuth from \"next-auth\";\r\n import { PrismaAdapter } from \"@auth/prisma-adapter\";\r\n import { db } from \"./db\";\r\n import GoogleProvider from \"next-auth/providers/google\";\r\n"
                },
                {
                    "date": 1745576109888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-'use server'\r\n+\r\n import NextAuth from \"next-auth\";\r\n import { PrismaAdapter } from \"@auth/prisma-adapter\";\r\n import { db } from \"./db\";\r\n import GoogleProvider from \"next-auth/providers/google\";\r\n"
                },
                {
                    "date": 1745576317771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,33 @@\n-\r\n import NextAuth from \"next-auth\";\r\n import { PrismaAdapter } from \"@auth/prisma-adapter\";\r\n import { db } from \"./db\";\r\n import GoogleProvider from \"next-auth/providers/google\";\r\n import GithubProvider from \"next-auth/providers/github\";\r\n-import AzureADProvider from \"next-auth/providers/azure-ad\";\r\n-export const { handlers, auth, signIn, signOut } = NextAuth({\r\n+\r\n+export const {\r\n+  handlers: { GET, POST },\r\n+  auth,\r\n+  signIn,\r\n+  signOut,\r\n+} = NextAuth({\r\n   adapter: PrismaAdapter(db),\r\n-  session: { strategy: \"jwt\" },\r\n-  debug: true,\r\n   providers: [\r\n     GoogleProvider({\r\n-      clientId: process.env.GOOGLE_CLIENT_ID ?? \"\",\r\n-      clientSecret: process.env.GOOGLE_CLIENT_SECRET ?? \"\"\r\n+      clientId: process.env.GOOGLE_CLIENT_ID!,\r\n+      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\r\n     }),\r\n     GithubProvider({\r\n-      clientId: process.env.GITHUB_ID ?? \"\",\r\n-      clientSecret: process.env.GITHUB_SECRET ?? \"\"\r\n-    })\r\n+      clientId: process.env.GITHUB_ID!,\r\n+      clientSecret: process.env.GITHUB_SECRET!,\r\n+    }),\r\n   ],\r\n   callbacks: {\r\n-    session({ session, token }) {\r\n+    async session({ session, token }) {\r\n       if (session.user && token.sub) {\r\n         session.user.id = token.sub;\r\n       }\r\n       return session;\r\n     },\r\n   },\r\n-});\r\n+  secret: process.env.NEXTAUTH_SECRET!,\r\n+});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1745582886435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,25 @@\n+// src/lib/auth.ts\r\n import NextAuth from \"next-auth\";\r\n import { PrismaAdapter } from \"@auth/prisma-adapter\";\r\n import { db } from \"./db\";\r\n import GoogleProvider from \"next-auth/providers/google\";\r\n import GithubProvider from \"next-auth/providers/github\";\r\n \r\n-export const {\r\n-  handlers: { GET, POST },\r\n-  auth,\r\n-  signIn,\r\n-  signOut,\r\n+export const { \r\n+  handlers: { GET, POST }, \r\n+  auth \r\n } = NextAuth({\r\n   adapter: PrismaAdapter(db),\r\n   providers: [\r\n     GoogleProvider({\r\n       clientId: process.env.GOOGLE_CLIENT_ID!,\r\n-      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\r\n+      clientSecret: process.env.GOOGLE_CLIENT_SECRET!\r\n     }),\r\n     GithubProvider({\r\n       clientId: process.env.GITHUB_ID!,\r\n-      clientSecret: process.env.GITHUB_SECRET!,\r\n-    }),\r\n+      clientSecret: process.env.GITHUB_SECRET!\r\n+    })\r\n   ],\r\n   callbacks: {\r\n     async session({ session, token }) {\r\n       if (session.user && token.sub) {\r\n@@ -29,5 +28,8 @@\n       return session;\r\n     },\r\n   },\r\n   secret: process.env.NEXTAUTH_SECRET!,\r\n-});\n\\ No newline at end of file\n+});\r\n+\r\n+// Client-side auth exports\r\n+// export const { signIn, signOut } = NextAuth;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1745650721367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,30 @@\n-// src/lib/auth.ts\r\n import NextAuth from \"next-auth\";\r\n import { PrismaAdapter } from \"@auth/prisma-adapter\";\r\n import { db } from \"./db\";\r\n import GoogleProvider from \"next-auth/providers/google\";\r\n import GithubProvider from \"next-auth/providers/github\";\r\n-\r\n-export const { \r\n-  handlers: { GET, POST }, \r\n-  auth \r\n-} = NextAuth({\r\n+console.log(\"auth.ts\")\r\n+export const { handlers, auth, signIn, signOut } = NextAuth({\r\n   adapter: PrismaAdapter(db),\r\n+  session: { strategy: \"jwt\" },\r\n+  debug: true,\r\n   providers: [\r\n     GoogleProvider({\r\n-      clientId: process.env.GOOGLE_CLIENT_ID!,\r\n-      clientSecret: process.env.GOOGLE_CLIENT_SECRET!\r\n+      clientId: process.env.GOOGLE_CLIENT_ID ?? \"\",\r\n+      clientSecret: process.env.GOOGLE_CLIENT_SECRET ?? \"\"\r\n     }),\r\n     GithubProvider({\r\n-      clientId: process.env.GITHUB_ID!,\r\n-      clientSecret: process.env.GITHUB_SECRET!\r\n+      clientId: process.env.GITHUB_ID ?? \"\",\r\n+      clientSecret: process.env.GITHUB_SECRET ?? \"\"\r\n     })\r\n   ],\r\n   callbacks: {\r\n-    async session({ session, token }) {\r\n+    session({ session, token }) {\r\n+      console.log(\"token\",session,token)\r\n       if (session.user && token.sub) {\r\n\\ No newline at end of file\n         session.user.id = token.sub;\r\n       }\r\n       return session;\r\n     },\r\n   },\r\n-  secret: process.env.NEXTAUTH_SECRET!,\r\n });\r\n-\r\n-// Client-side auth exports\r\n-// export const { signIn, signOut } = NextAuth;\n"
                }
            ],
            "date": 1745336775863,
            "name": "Commit-0",
            "content": "import NextAuth from \"next-auth\";\r\nimport { PrismaAdapter } from \"@auth/prisma-adapter\";\r\nimport { db } from \"./db\";\r\nimport GoogleProvider from \"next-auth/providers/google\";\r\nimport GithubProvider from \"next-auth/providers/github\";\r\nimport AzureADProvider from \"next-auth/providers/azure-ad\";\r\nexport const { handlers, auth, signIn, signOut } = NextAuth({\r\n  adapter: PrismaAdapter(db),\r\n  session: { strategy: \"jwt\" },\r\n  debug: true,\r\n  providers: [\r\n    GoogleProvider({\r\n      clientId: process.env.GOOGLE_CLIENT_ID ?? \"\",\r\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET ?? \"\"\r\n    }),\r\n    GithubProvider({\r\n      clientId: process.env.GITHUB_ID ?? \"\",\r\n      clientSecret: process.env.GITHUB_SECRET ?? \"\"\r\n    })\r\n  ],\r\n  callbacks: {\r\n    session({ session, token }) {\r\n      if (session.user && token.sub) {\r\n        session.user.id = token.sub;\r\n      }\r\n      return session;\r\n    },\r\n  },\r\n});\r\n"
        }
    ]
}